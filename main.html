<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fraction Magic ðŸª„</title>
  <style>
    * { margin:0; padding:0; box-sizing:border-box; font-family:"Poppins", sans-serif; }

    body {
      height:100vh;
      overflow:hidden;
      background: linear-gradient(45deg, #ff6b6b, #ffd86f, #aaff9f, #a6ffcb);
      background-size: 400% 400%;
      animation: gradientShift 10s ease infinite;
      display:flex;
      align-items:center;
      justify-content:center;
      position:relative;
      color:black;
      flex-direction:column;
    }

    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* === PEC FRACTION JATUH === */
    .fractionStar {
      position:absolute;
      font-size:24px;
      color:black;
      animation: fallFraction linear infinite;
    }
    @keyframes fallFraction {
      0% { transform: translateY(-50px) scale(1); opacity:1; }
      100% { transform: translateY(100vh) scale(0.5); opacity:0; }
    }

    .container {
      text-align:center;
      width:90%;
      max-width:600px;
      background: rgba(255,255,255,0.3);
      padding:40px 30px;
      border-radius:25px;
      backdrop-filter: blur(8px);
      box-shadow:0 0 35px rgba(0,0,0,0.2);
      z-index:2;
    }

    h1 {
      font-size:40px;
      color:black;
      text-shadow:0 0 5px white;
      margin-bottom:30px;
      letter-spacing:2px;
    }

    .menu-box {
      display:flex;
      flex-direction:column;
      gap:20px;
      align-items:center;
    }

    .menu-item {
      display:inline-block;
      background: linear-gradient(135deg, #ff4e4e, #00c851);
      color:black;
      padding:15px 35px;
      font-size:20px;
      border:none;
      border-radius:50px;
      cursor:pointer;
      text-decoration:none;
      width:80%;
      max-width:300px;
      text-align:center;
      transition:0.3s;
      box-shadow:0 0 25px rgba(0,0,0,0.2);
    }
    .menu-item:hover {
      transform:scale(1.05);
      box-shadow:0 0 40px rgba(0,0,0,0.4);
    }

    /* SPIN FRACTION ANIMASI */
    @keyframes spin { from{transform:rotate(0);} to{transform:rotate(360deg);} }
    .spinning { animation:spin 1s ease-in-out; }

    /* QUESTION BOX */
    .question-box {
      display:none;
      background: rgba(255,255,255,0.1);
      border-radius:20px;
      padding:30px;
      backdrop-filter:blur(8px);
      box-shadow:0 0 30px rgba(0,0,0,0.4);
      max-height:70vh;
      overflow-y:auto;
    }
    .question-box::-webkit-scrollbar {
      width:8px;
    }
    .question-box::-webkit-scrollbar-thumb {
      background: rgba(0,0,0,0.3);
      border-radius:4px;
    }

    @keyframes fadeOut { from{opacity:1;transform:scale(1);} to{opacity:0;transform:scale(0.9);} }
    .fade-out { animation:fadeOut 0.5s ease forwards; }

    /* KARTU BOX */
#cardBox {
  display: none;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  
  width: 120%;          /* lebih lebar dari container utama */
  max-width: 1200px;    /* opsional supaya tidak terlalu besar di layar lebar */
  
  position: relative;    /* agar transform bekerja */
  left: 50%;             /* mulai dari tengah layar */
  transform: translateX(-50%); /* geser ke kiri setengah lebar container */
  
  padding: 40px 30px;   /* padding lebih besar */
  border-radius: 25px;
  background: rgba(255,255,255,0.3);
  backdrop-filter: blur(8px);
  box-shadow: 0 0 35px rgba(0,0,0,0.2);
  z-index: 2;
}

#cardsContainer {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 15px;
  width: 100%;
  margin: 0 auto;
}

.card-header h2 {
  text-align: center;
  margin-bottom: 25px;
  font-size: 26px;  /* lebih besar */
}

.card-footer {
  text-align: center;
  margin-top: 25px;
}


.card {
    width:100px; height:140px; perspective:1000px; cursor:pointer;
}

.card-inner {
    position:relative; width:100%; height:100%;
    transition: transform 0.8s; transform-style: preserve-3d;
}

.card.flipped .card-inner {
    transform: rotateY(180deg);
}

.card-front, .card-back {
    position:absolute; width:100%; height:100%;
    border-radius:10px; backface-visibility:hidden;
    display:flex; align-items:center; justify-content:center;
}

.card-front {
    transform: rotateY(180deg);
}

.card-back {
    background: linear-gradient(45deg, #ff4e4e, #00c851);
    color:white; font-weight:bold; font-size:20px;
    display:flex; align-items:center; justify-content:center;
}

    /* Tombol audio di pojok kanan atas */
  #audioBtn {
    position: fixed;
    top: 15px;
    right: 15px;
    z-index: 20;
    padding: 10px 15px;
    border:none;
    border-radius:50px;
    background: linear-gradient(135deg, #00c851, #33b5e5);
    color:white;
    cursor:pointer;
    font-weight:bold;
    box-shadow:0 0 20px rgba(0,0,0,0.2);
    transition:0.3s;
  }
  #audioBtn:hover { transform: scale(1.1); }

    /* MEDIA BOX */
    #mediaBox { display:none; flex-direction:column; align-items:center; justify-content:center; }
    #mediaBox iframe { width:100%; height:400px; border:none; margin-bottom:20px; }

    footer { position:absolute; bottom:15px; width:100%; text-align:center; color:black; font-size:14px; }

    @media (max-width:480px){
      h1{font-size:30px;}
      .menu-item{font-size:18px;padding:12px 25px;}
      p{font-size:16px;}
    }
  </style>
</head>
<footer id="mainFooter">Â© 2025 Fraction Magic | Belajar Pecahan Lebih Seru </footer>

<!-- Tombol audio -->
<button id="audioBtn">ðŸ”Š</button>
<body>
  <div class="container">
    <h1 id="mainTitle">Fraction MagicðŸª„</h1>

    <div class="menu-box" id="mainMenu">
      <button id="spinBtn" class="menu-item">SPIN FRACTION</button>
      <button id="cardBtn" class="menu-item">PILIH KARTU</button>
      <button id="mediaBtn" class="menu-item">MEDIA DIGITAL</button>
    </div>

    <!-- BOX SOAL FRACTION -->
   <div id="questionBox" class="question-box">
  <h2 id="questionTitle">Soal Fraction</h2>
  <p id="questionText">Pertanyaan akan muncul di sini</p>
  <p id="answerText" style="display:none; color:black;">Jawaban muncul di sini</p>
  <div class="question-buttons">
    <button id="answerBtn" class="menu-item">Lihat Jawaban</button>
    <button id="backBtn" class="menu-item" style="display:none;">Kembali</button>
  </div>
</div>
<style>
/* ... CSS yang sudah ada ... */

.question-box h2 {
  margin-bottom: 20px;
  font-size: 24px;
  text-align: center;
  color: #222;
}

.question-box p {
  margin-bottom: 20px;
  font-size: 20px;
  text-align: center;
}

.question-buttons {
  display: flex;
  gap: 20px; /* jarak antar tombol */
  justify-content: center;
  margin-top: 10px;
}
</style>

<!-- BOX KARTU -->
<div id="cardBox" class="question-box">
    <h2 style="text-align:center; margin-bottom:20px;">Pilih Kartu</h2>
    <div id="cardsContainer">
        <!-- 10 Kartu akan di-generate oleh JS -->
    </div>
    <button id="backCardBtn" class="menu-item" style="margin-top:20px; display:none;">Kembali</button>
</div>


<!-- BOX MEDIA DIGITAL -->
<div id="mediaBox" class="question-box" style="display:none;">
  <iframe id="mediaFrame" src=""></iframe>
  <button id="backMediaBtn" class="menu-item">Kembali</button>
</div>



  <!-- AUDIO -->
  <audio id="cardSound" src="https://Fraction-Magic.github.io/Fraction-Magic/audios/Flid-Card.mp3"></audio>
  <audio id="magicSound" src="https://Fraction-Magic.github.io/Fraction-Magic/audios/Magic-Sound.mp3"></audio>
  <audio id="bgMusic" src="https://Fraction-Magic.github.io/Fraction-Magic/audios/Music-Background.mp3" autoplay loop></audio>

  <script>
    function hideAllBoxes() {
  questionBox.style.display = "none";
  cardBox.style.display = "none";
  mediaBox.style.display = "none";
}

    // ===== PEC FRACTION JATUH =====
    const fractions = ["1/2","1/4","3/4","1/8","5/8","3/8","7/8","1/16","3/16","5/16","7/16"];
    function createFractionStar(){
      const f = document.createElement("div");
      f.classList.add("fractionStar");
      f.style.left = Math.random()*window.innerWidth+"px";
      f.style.fontSize = 20+Math.random()*20+"px";
      f.textContent = fractions[Math.floor(Math.random()*fractions.length)];
      document.body.appendChild(f);
      const duration = 3 + Math.random()*3;
      f.style.animationDuration = duration+"s";
      setTimeout(()=>f.remove(), duration*1000);
    }
    setInterval(createFractionStar,150);

    // ===== SOAL FRACTION =====
    const data = [
      { q:"Hitung 1/2 + 1/4", a:"Jawaban : 3/4" },
    ];

    const spinBtn = document.getElementById("spinBtn");
    const questionBox = document.getElementById("questionBox");
    const questionText = document.getElementById("questionText");
    const answerText = document.getElementById("answerText");
    const answerBtn = document.getElementById("answerBtn");
    const backBtn = document.getElementById("backBtn");
    const mainMenu = document.getElementById("mainMenu");
    const mainTitle = document.getElementById("mainTitle");
    const mainFooter = document.getElementById("mainFooter");

    // ===== AUDIO =====
    const magicSound = document.getElementById("magicSound");
    const cardSound = document.getElementById("cardSound");
    const bgMusic = document.getElementById("bgMusic");

    // ==== SPIN FRACTION =====
    spinBtn.addEventListener("click", ()=>{
      magicSound.currentTime = 0; magicSound.play();
      const random = data[Math.floor(Math.random()*data.length)];
      questionText.textContent = random.q;
      answerText.textContent = random.a;
      mainMenu.style.display="none";
      questionBox.style.display="block";
      answerBtn.style.display="inline-block";
      answerText.style.display="none";
      backBtn.style.display="none";
    });

    answerBtn.addEventListener("click", ()=>{
      answerText.style.display="block";
      answerBtn.style.display="none";
      backBtn.style.display="inline-block";
    });

    backBtn.addEventListener("click", ()=>{
      questionBox.classList.add("fade-out");
      setTimeout(()=>{
        questionBox.style.display="none";
        questionBox.classList.remove("fade-out");
        mainMenu.style.display="flex";
      },500);
    });


// ===== MEMILIH KARTU =====
const cardBtn = document.getElementById("cardBtn");
const cardBox = document.getElementById("cardBox");
const cardsContainer = document.getElementById("cardsContainer");
const backCardBtn = document.getElementById("backCardBtn");

// Ganti URL sesuai kebutuhan
const frontImages = [
  "https://raw.githubusercontent.com/Fraction-Magic/Fraction-Magic/refs/heads/main/assets/test.jpg","https://raw.githubusercontent.com/Fraction-Magic/Fraction-Magic/refs/heads/main/assets/test.jpg","https://front3.jpg",
  "https://front4.jpg","https://front5.jpg","https://front6.jpg",
  "https://front7.jpg","https://front8.jpg","https://front9.jpg","https://front10.jpg"
];

const backImages = [
  "https://raw.githubusercontent.com/Fraction-Magic/Fraction-Magic/refs/heads/main/assets/test.jpg","https://back2.jpg","https://back3.jpg",
  "https://raw.githubusercontent.com/Fraction-Magic/Fraction-Magic/refs/heads/main/assets/test.jpg","https://back5.jpg","https://back6.jpg",
  "https://back7.jpg","https://back8.jpg","https://back9.jpg","https://back10.jpg"
];

// Fungsi untuk mengacak array
function shuffleArray(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}

cardBtn.addEventListener("click", () => {
  magicSound.currentTime = 0;
  magicSound.play();
  
  mainMenu.style.display = "none";
  mainTitle.style.display = "none";
  mainFooter.style.display = "none";
  questionBox.style.display = "none";
  cardBox.style.display = "flex";

  cardsContainer.innerHTML = ""; // reset kartu
  backCardBtn.style.display = "none";

  // Acak front dan back
  const shuffledFront = shuffleArray([...frontImages]);
  const shuffledBack  = shuffleArray([...backImages]);

  for (let i = 0; i < 10; i++) {
    const card = document.createElement("div");
    card.className = "card";

    const inner = document.createElement("div");
    inner.className = "card-inner";

    // FRONT
    const front = document.createElement("div");
    front.className = "card-front";
    front.innerHTML = `<img src="${shuffledFront[i]}" style="width:80%;height:auto;">`;

    // BACK
    const back = document.createElement("div");
    back.className = "card-back";
    back.innerHTML = `<img src="${shuffledBack[i]}" style="width:80%;height:auto;">`;

    inner.appendChild(front);
    inner.appendChild(back);
    card.appendChild(inner);
    cardsContainer.appendChild(card);

    // EVENT FLIP
    card.addEventListener("click", () => {
      card.classList.add("flipped");
      backCardBtn.style.display = "inline-block"; // tombol kembali muncul
    });
  }
});

// Kembali ke menu utama
backCardBtn.addEventListener("click", () => {
  cardBox.style.display = "none";
  mainMenu.style.display = "flex";
  mainTitle.style.display = "block";
  mainFooter.style.display = "block";
  backCardBtn.style.display = "none";
});


    // ===== MEDIA DIGITAL =====
  const mediaBtn = document.getElementById("mediaBtn");
const mediaBox = document.getElementById("mediaBox");
const mediaFrame = document.getElementById("mediaFrame");
const backMediaBtn = document.getElementById("backMediaBtn");

mediaBtn.addEventListener("click", ()=>{
  magicSound.currentTime = 0; 
  magicSound.play();
  hideAllBoxes();                 // sembunyikan semua box lain
  mainMenu.style.display = "none";
  mainTitle.style.display = "none";
  mainFooter.style.display = "none";
  mediaBox.style.display = "flex";   // tampilkan media
  mediaFrame.src = "https://iwant2study.org/lookangejss/math/ejss_model_addfractions/index.html";
});

backMediaBtn.addEventListener("click", ()=>{
  mediaBox.style.display = "none";
  mainMenu.style.display = "flex";
  mainTitle.style.display = "block";
  mainFooter.style.display = "block";
  mediaFrame.src = ""; // reset iframe
});
   
 // Tombol play/pause audio di pojok
const audioBtn = document.getElementById("audioBtn");
let isPlaying = true; // karena autoplay aktif
bgMusic.volume = 0.2;
bgMusic.play();

audioBtn.addEventListener("click", () => {
  if (isPlaying) {
    bgMusic.pause();
    audioBtn.textContent = "ðŸ”‡";
  } else {
    bgMusic.play();
    audioBtn.textContent = "ðŸ”Š";
  }
  isPlaying = !isPlaying;
});

// Flip kartu saat diklik (untuk kartu preview)
document.querySelectorAll('#cardsContainer .card').forEach(card => {
  card.addEventListener('click', () => {
    card.classList.add('flipped');       // kartu terbuka
    backCardBtn.style.display = "inline-block"; // tombol kembali muncul
  });
});

  </script>
</body>
</html>
