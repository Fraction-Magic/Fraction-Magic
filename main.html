<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fraction Magic ðŸª„</title>

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: "Poppins", sans-serif;
    }

    body {
      height: 100vh;
      overflow: hidden;
      background: linear-gradient(45deg, #ff6b6b, #ffd86f, #aaff9f, #a6ffcb);
      background-size: 400% 400%;
      animation: gradientShift 10s ease infinite;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      color: black;
      flex-direction: column;
    }

    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* === PEC FRACTION JATUH === */
    .fractionStar {
      position: absolute;
      font-size: 24px;
      color: black;
      animation: fallFraction linear infinite;
    }

    @keyframes fallFraction {
      0% { transform: translateY(-50px) scale(1); opacity: 1; }
      100% { transform: translateY(100vh) scale(0.5); opacity: 0; }
    }

    .container {
      text-align: center;
      width: 90%;
      max-width: 600px;
      background: rgba(255,255,255,0.3);
      padding: 40px 30px;
      border-radius: 25px;
      backdrop-filter: blur(8px);
      box-shadow: 0 0 35px rgba(0,0,0,0.2);
      z-index: 2;
    }

    h1 {
      font-size: 40px;
      color: black;
      text-shadow: 0 0 5px white;
      margin-bottom: 30px;
      letter-spacing: 2px;
    }

    .menu-box {
      display: flex;
      flex-direction: column;
      gap: 20px;
      align-items: center;
    }

    .menu-item {
      display: inline-block;
      background: linear-gradient(135deg, #ff6b6b, #aaff9f);
      color: black;
      padding: 15px 35px;
      font-size: 20px;
      border: none;
      border-radius: 50px;
      cursor: pointer;
      text-decoration: none;
      width: 80%;
      max-width: 300px;
      text-align: center;
      transition: 0.3s;
      box-shadow: 0 0 25px rgba(0,0,0,0.2);
    }

    .menu-item:hover {
      transform: scale(1.05);
      box-shadow: 0 0 40px rgba(0,0,0,0.4);
    }

    /* SPIN FRACTION ANIMASI */
    @keyframes spin { from { transform: rotate(0); } to { transform: rotate(360deg); } }
    .spinning { animation: spin 1s ease-in-out; }

    /* QUESTION BOX */
    .question-box {
      display: none;
      background: rgba(255,255,255,0.1);
      border-radius: 20px;
      padding: 30px;
      backdrop-filter: blur(8px);
      box-shadow: 0 0 30px rgba(0,0,0,0.4);
      max-height: 70vh;
      overflow-y: auto;
    }

    .question-box::-webkit-scrollbar { width: 8px; }
    .question-box::-webkit-scrollbar-thumb {
      background: rgba(0,0,0,0.3);
      border-radius: 4px;
    }

    @keyframes fadeOut {
      from { opacity: 1; transform: scale(1); }
      to { opacity: 0; transform: scale(0.9); }
    }
    .fade-out { animation: fadeOut 0.5s ease forwards; }



/* ===== KARTU BOX ===== */
#cardBox {
  display: none;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  width: 120%;
  max-width: 1200px;
  position: relative;
  left: 50%;
  transform: translateX(-50%);
  padding: 40px 30px;
  border-radius: 25px;
  background: rgba(255,255,255,0.3);
  backdrop-filter: blur(8px);
  box-shadow: 0 0 35px rgba(0,0,0,0.2);
  z-index: 2;
}

#cardsContainer {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 15px;
  width: 100%;
  margin: 0 auto;
}

.card {
  width: 100px;
  height: 140px;
  perspective: 1000px;
  cursor: pointer;
}

.card-inner {
  position: relative;
  width: 100%;
  height: 100%;
  transition: transform 0.8s;
  transform-style: preserve-3d;
}

/* Flip kartu */
.card.flipped .card-inner {
  transform: rotateY(180deg);
}

/* Depan dan belakang kartu */
.card-front, .card-back {
  position: absolute;
  width: 100%;
  height: 100%;
  border-radius: 10px;
  backface-visibility: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Depan terlihat awal */
.card-front {
  transform: rotateY(0deg);
}

/* Belakang tersembunyi di belakang */
.card-back {
  transform: rotateY(180deg);
  background: none !important;
  color: white;
  font-weight: bold;
  font-size: 20px;
}

/* Gambar dalam kartu */
.card-front img,
.card-back img {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 10px;
  z-index: 1;
}


    /* Tombol audio di pojok kanan atas */
    #audioBtn {
      position: fixed;
      top: 15px;
      right: 15px;
      z-index: 20;
      padding: 10px 15px;
      border: none;
      border-radius: 50px;
      background: linear-gradient(135deg, #aaff9f, #33b5e5);
      color: white;
      cursor: pointer;
      font-weight: bold;
      box-shadow: 0 0 20px rgba(0,0,0,0.2);
      transition: 0.3s;
    }

    #audioBtn:hover { transform: scale(1.1); }

    /* MEDIA BOX */
    #mediaBox {
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    #mediaBox iframe {
      width: 100%;
      height: 400px;
      border: none;
      margin-bottom: 20px;
    }

    footer {
      position: absolute;
      bottom: 15px;
      width: 100%;
      text-align: center;
      color: black;
      font-size: 14px;
    }

    @media (max-width: 480px) {
      h1 { font-size: 30px; }
      .menu-item { font-size: 18px; padding: 12px 25px; }
      p { font-size: 16px; }
    }
  </style>
</head>


<footer id="mainFooter">
  Â© 2025 Fraction Magic | Belajar Pecahan Lebih Seru
</footer>

<!-- Tombol audio -->
<button id="audioBtn">ðŸ”Š</button>

<body>
  <div class="container">
    <h1 id="mainTitle">Fraction MagicðŸª„</h1>

    <div class="menu-box" id="mainMenu">
      <button id="spinBtn" class="menu-item">SPIN FRACTION</button>
      <button id="cardBtn" class="menu-item">PILIH KARTU</button>
      <button id="mediaBtn" class="menu-item">MEDIA DIGITAL</button>
    </div>

    <!-- BOX SOAL FRACTION -->
    <div id="questionBox" class="question-box">
      <h2 id="questionTitle">Soal Fraction</h2>
      <p id="questionText">Pertanyaan akan muncul di sini</p>
      <p id="answerText" style="display:none; color:black;">Jawaban muncul di sini</p>

      <div class="question-buttons">
        <button id="answerBtn" class="menu-item">Lihat Jawaban</button>
        <button id="backBtn" class="menu-item" style="display:none;">Kembali</button>
      </div>
    </div>

    <style>
      .question-box h2 {
        margin-bottom: 20px;
        font-size: 24px;
        text-align: center;
        color: #222;
      }

      .question-box p {
        margin-bottom: 20px;
        font-size: 20px;
        text-align: center;
      }

      .question-buttons {
        display: flex;
        gap: 20px;
        justify-content: center;
        margin-top: 10px;
      }
    </style>

    <!-- BOX KARTU -->
    <div id="cardBox" class="question-box">
      <h2 style="text-align:center; margin-bottom:20px;">Pilih Kartu</h2>
      <div id="cardsContainer">
        <!-- 10 Kartu akan di-generate oleh JS -->
      </div>
      <button id="backCardBtn" class="menu-item" style="margin-top:20px; display:none;">
        Kembali
      </button>
    </div>

    <!-- BOX MEDIA DIGITAL -->
    <div id="mediaBox" class="question-box" style="display:none;">
      <iframe id="mediaFrame" src=""></iframe>
      <button id="backMediaBtn" class="menu-item">Kembali</button>
    </div>

    <!-- AUDIO -->
    <audio id="cardSound"
      src="https://Fraction-Magic.github.io/Fraction-Magic/audios/Flid-Card.mp3">
    </audio>
    <audio id="magicSound"
      src="https://Fraction-Magic.github.io/Fraction-Magic/audios/Magic-Sound.mp3">
    </audio>
    <audio id="bgMusic"
      src="https://Fraction-Magic.github.io/Fraction-Magic/audios/Music-Background.mp3"
      autoplay loop>
    </audio>


      <script>
    function hideAllBoxes() {
      questionBox.style.display = "none";
      cardBox.style.display = "none";
      mediaBox.style.display = "none";
    }

    // ===== PEC FRACTION JATUH =====
    const fractions = ["1/2","1/4","3/4","1/8","5/8","3/8","7/8","1/16","3/16","5/16","7/16"];

    function createFractionStar() {
      const f = document.createElement("div");
      f.classList.add("fractionStar");
      f.style.left = Math.random() * window.innerWidth + "px";
      f.style.fontSize = 20 + Math.random() * 20 + "px";
      f.textContent = fractions[Math.floor(Math.random() * fractions.length)];
      document.body.appendChild(f);

      const duration = 3 + Math.random() * 3;
      f.style.animationDuration = duration + "s";
      setTimeout(() => f.remove(), duration * 1000);
    }

    setInterval(createFractionStar, 150);

   // ===== SOAL FRACTION =====
const data = [
  { q: "Ais membeli tepung seberat 3/4 kg. Ia menggunakan 1/2 kg untuk membuat kue cokelat. Berapa kg tepung yang tersisa di rumah Ais?", a: "3/4 - 1/2 = 6/8 - 4/8 = 2/8 = 1/4 kg tersisa" },
  { q: "Albab membawa botol berisi jus sebanyak 1/2 liter. Ia menuang 1/4 liter ke gelas. Berapa liter jus yang tersisa di botol Albab?", a: "1/2 - 1/4 = 2/4 - 1/4 = 1/4 liter tersisa" },
  { q: "Siti membuat salad buah. Ia menaruh 1/2 kg apel dan menambahkan 3/8 kg pisang. Berapa kg buah yang ada di mangkuk Siti?", a: "1/2 + 3/8 = 4/8 + 3/8 = 7/8 kg total" },
  { q: "Riko membeli satu pizza utuh. Ia memakan 1/2 pizza, dan adiknya memakan 1/4 pizza. Berapa pizza yang tersisa?", a: "1 - (1/2 + 1/4) = 1 - 3/4 = 1/4 pizza tersisa" },
  { q: "Nina membuat minuman. Ia menuang 1/2 liter sirup stroberi dan menambahkan 1/8 liter sirup lemon. Berapa liter minuman total yang ada di botol?", a: "1/2 + 1/8 = 4/8 + 1/8 = 5/8 liter total" },
  { q: "Bu Fitri membeli gula 3/4 kg. Ia menggunakan 1/2 kg untuk membuat jus buah. Berapa kg gula yang tersisa?", a: "3/4 - 1/2 = 6/8 - 4/8 = 2/8 = 1/4 kg tersisa" },
  { q: "Pak Budi memotong kue menjadi 8 bagian. Ia memberikan 3/8 bagian ke tetangganya dan 2/8 bagian ke anaknya. Berapa bagian kue yang tersisa?", a: "1 - (3/8 + 2/8) = 1 - 5/8 = 3/8 bagian tersisa" },
  { q: "Husnul membuat teh manis. Ia menuang 1/2 liter air panas dan menambahkan 1/8 liter susu. Berapa liter minuman total?", a: "1/2 + 1/8 = 4/8 + 1/8 = 5/8 liter total" },
  { q: "Riko menyiapkan 3/4 liter air di ember. Ia menyiram tanaman 1/4 liter. Berapa liter air yang tersisa di ember?", a: "3/4 - 1/4 = 6/8 - 2/8 = 4/8 = 1/2 liter tersisa" },
  { q: "Bu Dina memasak sup. Ia menuang 1/2 liter kaldu dan menambahkan 3/16 liter sayuran. Berapa liter bahan yang ada di panci?", a: "1/2 + 3/16 = 8/16 + 3/16 = 11/16 liter total" },
  { q: "Iqbal menyiapkan 3/4 liter susu untuk membuat puding. Ia menuang 1/4 liter ke cetakan besar dan 1/8 liter ke cetakan kecil. Berapa liter susu yang tersisa?", a: "3/4 - (1/4 + 1/8) = 6/8 - 3/8 = 3/8 liter tersisa" },
  { q: "Bu Karin membeli beras 3/4 kg. Ia memasak 1/2 kg untuk makan siang. Berapa kg beras yang tersisa?", a: "3/4 - 1/2 = 6/8 - 4/8 = 2/8 = 1/4 kg tersisa" },
  { q: "Pak Dimas memotong kue menjadi 8 bagian. Ia memberikan 5/8 bagian ke tetangganya dan menyimpan 2/8 bagian untuk anaknya. Berapa bagian kue yang masih tersisa?", a: "1 - (5/8 + 2/8) = 1 - 7/8 = 1/8 bagian tersisa" },
  { q: "Rina menaruh 1/2 liter air di botol. Ia minum 1/8 liter dan menambahkan 1/8 liter sirup. Berapa liter minuman sekarang di botol?", a: "1/2 - 1/8 + 1/8 = 4/8 - 1/8 + 1/8 = 4/8 = 1/2 liter" },
  { q: "Budi membeli 3/4 kg tepung. Ia menggunakan 3/8 kg untuk membuat roti manis. Berapa kg tepung yang tersisa?", a: "3/4 - 3/8 = 6/8 - 3/8 = 3/8 kg tersisa" },
  { q: "Pak Agus membeli 1/2 liter minyak goreng. Ia menuang 1/4 liter untuk menggoreng ikan dan 1/8 liter untuk menggoreng tempe. Berapa liter minyak yang tersisa?", a: "1/2 - (1/4 + 1/8) = 4/8 - 3/8 = 1/8 liter tersisa" },
  { q: "Lani membuat jus. Ia menuang 1/2 liter jus jeruk dan menambahkan 3/16 liter jus apel. Berapa liter total jus Lani?", a: "1/2 + 3/16 = 8/16 + 3/16 = 11/16 liter total" },
  { q: "Dedi menyiapkan 3/4 liter air untuk menyiram tanaman. Ia menyiram 1/8 liter, kemudian menyiram lagi 1/8 liter. Berapa liter air yang tersisa di ember?", a: "3/4 - (1/8 + 1/8) = 6/8 - 2/8 = 4/8 = 1/2 liter tersisa" },
  { q: "Bu Rina membeli 1/2 kg gula. Ia menggunakan 1/8 kg untuk membuat kue dan 1/8 kg untuk membuat minuman manis. Berapa kg gula yang tersisa?", a: "1/2 - (1/8 + 1/8) = 4/8 - 2/8 = 2/8 = 1/4 kg tersisa" },
  { q: "Andi membuat salad buah. Ia menaruh 1/2 kg apel, menambahkan 1/4 kg pisang, dan 1/8 kg anggur. Berapa kg total buah di mangkuk Andi?", a: "1/2 + 1/4 + 1/8 = 4/8 + 2/8 + 1/8 = 7/8 kg total" },
  { q: "1/2 + 1/4 + 1/8 = ...", a: "4/8 + 2/8 + 1/8 = 7/8" },
  { q: "3/4 - 1/8 + 1/16 = ...", a: "12/16 - 2/16 + 1/16 = 11/16" },
  { q: "1/4 + 1/2 - 1/8 = ...", a: "2/8 + 4/8 - 1/8 = 5/8" },
  { q: "3/8 + 1/4 + 1/8 = ...", a: "3/8 + 2/8 + 1/8 = 6/8 = 3/4" },
  { q: "1/2 - 1/8 - 1/16 = ...", a: "8/16 - 2/16 - 1/16 = 5/16" },
  { q: "1/4 + 1/8 + 3/16 = ...", a: "4/16 + 2/16 + 3/16 = 9/16" },
  { q: "3/4 - 1/2 + 1/8 = ...", a: "6/8 - 4/8 + 1/8 = 3/8" },
  { q: "1/8 + 1/4 + 1/2 = ...", a: "1/8 + 2/8 + 4/8 = 7/8" },
  { q: "5/8 - 1/4 + 1/16 = ...", a: "10/16 - 4/16 + 1/16 = 7/16" },
  { q: "1/2 + 1/8 - 1/16 = ...", a: "8/16 + 2/16 - 1/16 = 9/16" }
];


    const spinBtn = document.getElementById("spinBtn");
    const questionBox = document.getElementById("questionBox");
    const questionText = document.getElementById("questionText");
    const answerText = document.getElementById("answerText");
    const answerBtn = document.getElementById("answerBtn");
    const backBtn = document.getElementById("backBtn");
    const mainMenu = document.getElementById("mainMenu");
    const mainTitle = document.getElementById("mainTitle");
    const mainFooter = document.getElementById("mainFooter");

    // ===== AUDIO =====
    const magicSound = document.getElementById("magicSound");
    const cardSound = document.getElementById("cardSound");
    const bgMusic = document.getElementById("bgMusic");

    // ==== SPIN FRACTION =====
    spinBtn.addEventListener("click", () => {
      magicSound.currentTime = 0;
      magicSound.play();

      const random = data[Math.floor(Math.random() * data.length)];
      questionText.textContent = random.q;
      answerText.textContent = random.a;

      mainMenu.style.display = "none";
      questionBox.style.display = "block";
      answerBtn.style.display = "inline-block";
      answerText.style.display = "none";
      backBtn.style.display = "none";
    });

    answerBtn.addEventListener("click", () => {
      answerText.style.display = "block";
      answerBtn.style.display = "none";
      backBtn.style.display = "inline-block";
    });

    backBtn.addEventListener("click", () => {
      questionBox.classList.add("fade-out");
      setTimeout(() => {
        questionBox.style.display = "none";
        questionBox.classList.remove("fade-out");
        mainMenu.style.display = "flex";
      }, 500);
    });


// ===== MEMILIH KARTU =====
const cardBtn = document.getElementById("cardBtn");
const cardBox = document.getElementById("cardBox");
const cardsContainer = document.getElementById("cardsContainer");
const backCardBtn = document.getElementById("backCardBtn");

// 10 gambar depan (unik)
const frontImages = [
  "https://raw.githubusercontent.com/Fraction-Magic/Fraction-Magic/refs/heads/main/assets/2.jpg",
  "https://raw.githubusercontent.com/Fraction-Magic/Fraction-Magic/refs/heads/main/assets/3.jpg",
  "https://raw.githubusercontent.com/Fraction-Magic/Fraction-Magic/refs/heads/main/assets/4.jpg",
  "https://raw.githubusercontent.com/Fraction-Magic/Fraction-Magic/refs/heads/main/assets/5.jpg",
  "https://raw.githubusercontent.com/Fraction-Magic/Fraction-Magic/refs/heads/main/assets/6.jpg",
  "https://raw.githubusercontent.com/Fraction-Magic/Fraction-Magic/refs/heads/main/assets/7.jpg",
  "https://raw.githubusercontent.com/Fraction-Magic/Fraction-Magic/refs/heads/main/assets/8.jpg",
  "https://raw.githubusercontent.com/Fraction-Magic/Fraction-Magic/refs/heads/main/assets/9.jpg",
  "https://raw.githubusercontent.com/Fraction-Magic/Fraction-Magic/refs/heads/main/assets/10.jpg",
  "https://raw.githubusercontent.com/Fraction-Magic/Fraction-Magic/refs/heads/main/assets/11.jpg"
];

// Gambar belakang yang sama untuk semua kartu
const backImage = "https://raw.githubusercontent.com/Fraction-Magic/Fraction-Magic/refs/heads/main/assets/1.jpg";

// Shuffle array depan supaya kartu tidak berurutan sama
function shuffleArray(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}

// Event tombol kartu
cardBtn.addEventListener("click", () => {
  magicSound.currentTime = 0;
  magicSound.play();

  // Sembunyikan menu dan elemen lain
  mainMenu.style.display = "none";
  mainTitle.style.display = "none";
  mainFooter.style.display = "none";
  questionBox.style.display = "none";
  cardBox.style.display = "flex";

  cardsContainer.innerHTML = "";
  backCardBtn.style.display = "none";

  const shuffledFront = shuffleArray([...frontImages]);

  for (let i = 0; i < 10; i++) {
    const card = document.createElement("div");
    card.className = "card";

    const inner = document.createElement("div");
    inner.className = "card-inner";

    const front = document.createElement("div");
    front.className = "card-front";
    front.innerHTML = `<img src="${backImage}" style="width:100%;height:100%;object-fit:cover;">`;

    const back = document.createElement("div");
    back.className = "card-back";
    back.innerHTML = `<img src="${shuffledFront[i]}" style="width:100%;height:100%;object-fit:cover;">`;

    inner.appendChild(front);
    inner.appendChild(back);
    card.appendChild(inner);
    cardsContainer.appendChild(card);

    card.addEventListener("click", () => {
      card.classList.add("flipped");
      backCardBtn.style.display = "inline-block";
      cardSound.currentTime = 0;
      cardSound.play();
    });
  }
});

// Tombol kembali dari kartu
backCardBtn.addEventListener("click", () => {
  cardBox.style.display = "none";
  mainMenu.style.display = "flex";
  mainTitle.style.display = "block";
  mainFooter.style.display = "block";
  backCardBtn.style.display = "none";
});


    // ===== MEDIA DIGITAL =====
    const mediaBtn = document.getElementById("mediaBtn");
    const mediaBox = document.getElementById("mediaBox");
    const mediaFrame = document.getElementById("mediaFrame");
    const backMediaBtn = document.getElementById("backMediaBtn");

    mediaBtn.addEventListener("click", () => {
      magicSound.currentTime = 0;
      magicSound.play();
      hideAllBoxes();
      mainMenu.style.display = "none";
      mainTitle.style.display = "none";
      mainFooter.style.display = "none";
      mediaBox.style.display = "flex";
      mediaFrame.src = "https://iwant2study.org/lookangejss/math/ejss_model_addfractions/index.html";
    });

    backMediaBtn.addEventListener("click", () => {
      mediaBox.style.display = "none";
      mainMenu.style.display = "flex";
      mainTitle.style.display = "block";
      mainFooter.style.display = "block";
      mediaFrame.src = "";
    });

    // ===== AUDIO TOGGLE =====
    const audioBtn = document.getElementById("audioBtn");
    let isPlaying = true;
    bgMusic.volume = 0.2;
    bgMusic.play();

    audioBtn.addEventListener("click", () => {
      if (isPlaying) {
        bgMusic.pause();
        audioBtn.textContent = "ðŸ”‡";
      } else {
        bgMusic.play();
        audioBtn.textContent = "ðŸ”Š";
      }
      isPlaying = !isPlaying;
    });

    // Flip kartu preview (antisipasi render awal)
    document.querySelectorAll('#cardsContainer .card').forEach(card => {
      card.addEventListener('click', () => {
        card.classList.add('flipped');
        backCardBtn.style.display = "inline-block";
      });
    });
  </script>
</body>
</html>
